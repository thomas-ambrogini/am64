<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.png" type="image/png">    
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<title>AM64x MCU+ SDK: FIREWALL</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<style>
.tinav {
    background: #c00;
    /* height: 41.375px; */
    height: 30px;
    }
</style>    
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 40px;">
  <td id="projectlogo"><a href="https://www.ti.com"><img alt="Logo" src="ti_logo.svg"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AM64x MCU+ SDK
   &#160;<span id="projectnumber">08.05.00</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
<div class=tinav></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('DRIVERS_FIREWALL_PAGE.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">FIREWALL </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md676">Features Supported</a></li>
<li class="level1"><a href="#autotoc_md677">SysConfig Features</a></li>
<li class="level1"><a href="#autotoc_md678">Features NOT supported</a></li>
<li class="level1"><a href="#autotoc_md679">Important Usage Guidelines</a></li>
<li class="level1"><a href="#autotoc_md680">Example Usage</a></li>
<li class="level1"><a href="#autotoc_md681">API</a></li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_components_drivers_firewall"></a></p>
<p>Firewall is a module used to implement overall SoC security by providing a mechanism to assign and restrict device resources to a given main entity or Secure/Non-secure/Priv/User world. The Firewall driver provides API to perform initialization and configuration of regions.</p>
<h1><a class="anchor" id="autotoc_md676"></a>
Features Supported</h1>
<ul>
<li>Support a multi number of regions, depending on the firewall.</li>
<li>Two overlapping regions</li>
<li>Lock Mode and Cache Mode</li>
<li>Support up to 3 privilege and permission slots</li>
</ul>
<h1><a class="anchor" id="autotoc_md677"></a>
SysConfig Features</h1>
<dl class="section note"><dt>Note</dt><dd>It is strongly recommend to use SysConfig where it is available instead of using direct SW API calls. This will help simplify the SW application and also catch common mistakes early in the development cycle.</dd></dl>
<p>SysConfig can be used to configure below parameters</p><ul>
<li>Firewall ID and Region Instances</li>
<li>Number of Regions</li>
<li>Region Index</li>
<li>Lock, Cache, Background mode selection</li>
<li>Start Address and End Address</li>
<li>Transaction permission like Priv-ID, Read, Write, Debug, Cacheable Configuration</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Check enable manual address in SysConfig to enter manual region configuration.</dd></dl>
<h1><a class="anchor" id="autotoc_md678"></a>
Features NOT supported</h1>
<ul>
<li>More than 1 overlap regions not supported.</li>
<li>The minimum memory region size is 4KB.</li>
<li>DMSC targets regions are not supported.</li>
</ul>
<h1><a class="anchor" id="autotoc_md679"></a>
Important Usage Guidelines</h1>
<ul>
<li>There can be only one background region per firewall. Foreground regions can have overlapping addresses only with the background region</li>
<li>In case two regions overlap, foreground region takes precedence and its permissions are taken into effect.</li>
<li>The regions must be 4KB aligned.</li>
</ul>
<h1><a class="anchor" id="autotoc_md680"></a>
Example Usage</h1>
<p>Include the below file to access the APIs </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="firewall_8h.html">drivers/firewall.h</a>&gt;</span></div>
</div><!-- fragment --><p> Instance open Example </p><div class="fragment"><div class="line">    <a class="code" href="group__DRV__FIREWALL__MODULE.html#ga9ce3ae4cc112f82877fc8e1a3c7f7d39">Firewall_open</a>(CONFIG_FIREWALL0);</div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a>(gFirewallHandle != NULL);</div>
</div><!-- fragment --><p> Instance close Example </p><div class="fragment"><div class="line">    <a class="code" href="group__DRV__FIREWALL__MODULE.html#ga28657bf5e5b01030fdc2dbec22d7b6fd">Firewall_close</a>(gFirewallHandle);</div>
</div><!-- fragment --><p> Config Firewall region Example </p><div class="fragment"><div class="line">    int32_t status;</div>
<div class="line">    <a class="code" href="structFirewall__RegionCfg.html">Firewall_RegionCfg</a> regionParams;</div>
<div class="line">    <a class="code" href="structFirewall__Attrs.html">Firewall_Attrs</a> gFirewallAttrs;</div>
<div class="line">    uint32_t regionIndex = 1;</div>
<div class="line"> </div>
<div class="line">    regionParams.<a class="code" href="structFirewall__RegionCfg.html#a493c4f1374ee69e6a341997ce67a5e39">regionIndex</a>    = 0;</div>
<div class="line">    regionParams.<a class="code" href="structFirewall__RegionCfg.html#a4d52752ab66dbb328c5706eddcd71d21">control</a>        = <a class="code" href="group__DRV__FIREWALL__MODULE.html#ga3df43053fbfeda692e6e97e5e1fea829">FWL_CONTROL_ENABLE</a>;</div>
<div class="line">    regionParams.<a class="code" href="structFirewall__RegionCfg.html#a243556d05f48fb819956c6976a42c347">permissions</a>[0] = (uint32_t) <a class="code" href="group__DRV__FIREWALL__MODULE.html#ga33cc6604340fe6dd70035798bdf32587">PRIVID_EVERYONE</a> &lt;&lt; 16 | \</div>
<div class="line">                                             <a class="code" href="group__DRV__FIREWALL__MODULE.html#ga9a209b873acea2a734c11ede4e7aa288">FWL_PERM_SEC_RW</a>;</div>
<div class="line">    regionParams.<a class="code" href="structFirewall__RegionCfg.html#a243556d05f48fb819956c6976a42c347">permissions</a>[1] = 0x0;</div>
<div class="line">    regionParams.<a class="code" href="structFirewall__RegionCfg.html#a243556d05f48fb819956c6976a42c347">permissions</a>[2] = 0x0U;</div>
<div class="line">    regionParams.<a class="code" href="structFirewall__RegionCfg.html#a9df8c90e0e52b7371be4776a06bc9c3d">startAddr</a>      = 0x70000000U;</div>
<div class="line">    regionParams.<a class="code" href="structFirewall__RegionCfg.html#ae42aa20747c16abe4a68061b8a136797">endAddr</a>        = 0x7003FFFFU;</div>
<div class="line"> </div>
<div class="line">    gFirewallAttrs.<a class="code" href="structFirewall__Attrs.html#add68b7915c6703b4a83317c729690e61">firewallId</a> = 14,</div>
<div class="line">    gFirewallAttrs.<a class="code" href="structFirewall__Attrs.html#a934bfa256341c11518d9243a43f46943">totalRegions</a> = 4,</div>
<div class="line">    gFirewallAttrs.<a class="code" href="structFirewall__Attrs.html#a6ee4d0f0a7c6b879462f1e75d7704f38">regionInfo</a> = regionParams,</div>
<div class="line">    gFirewallAttrs.<a class="code" href="structFirewall__Attrs.html#ab40da6aae4d422e8822f97148f0b970b">initRegions</a> = 1,</div>
<div class="line"> </div>
<div class="line">    status = <a class="code" href="group__DRV__FIREWALL__MODULE.html#ga67ff1ba54b7f7a72ad254b357046540a">Firewall_configureRegion</a>(gFirewallHandle, gFirewallAttrs);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a>(<a class="code" href="group__KERNEL__DPL__SYSTEM.html#ga47e638d7c694e6d42e57b96b071b8a6f">SystemP_SUCCESS</a> == status);</div>
<div class="line"> </div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md681"></a>
API</h1>
<p><a class="el" href="group__DRV__FIREWALL__MODULE.html">APIs for FIREWALL</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div class="ttc" id="astructFirewall__RegionCfg_html_ae42aa20747c16abe4a68061b8a136797"><div class="ttname"><a href="structFirewall__RegionCfg.html#ae42aa20747c16abe4a68061b8a136797">Firewall_RegionCfg::endAddr</a></div><div class="ttdeci">uint64_t endAddr</div><div class="ttdef"><b>Definition:</b> firewall/v0/firewall.h:203</div></div>
<div class="ttc" id="astructFirewall__Attrs_html_a934bfa256341c11518d9243a43f46943"><div class="ttname"><a href="structFirewall__Attrs.html#a934bfa256341c11518d9243a43f46943">Firewall_Attrs::totalRegions</a></div><div class="ttdeci">uint32_t totalRegions</div><div class="ttdef"><b>Definition:</b> firewall/v0/firewall.h:218</div></div>
<div class="ttc" id="astructFirewall__RegionCfg_html_a4d52752ab66dbb328c5706eddcd71d21"><div class="ttname"><a href="structFirewall__RegionCfg.html#a4d52752ab66dbb328c5706eddcd71d21">Firewall_RegionCfg::control</a></div><div class="ttdeci">uint32_t control</div><div class="ttdef"><b>Definition:</b> firewall/v0/firewall.h:197</div></div>
<div class="ttc" id="astructFirewall__Attrs_html"><div class="ttname"><a href="structFirewall__Attrs.html">Firewall_Attrs</a></div><div class="ttdoc">Firewall atributes.</div><div class="ttdef"><b>Definition:</b> firewall/v0/firewall.h:214</div></div>
<div class="ttc" id="agroup__DRV__FIREWALL__MODULE_html_ga3df43053fbfeda692e6e97e5e1fea829"><div class="ttname"><a href="group__DRV__FIREWALL__MODULE.html#ga3df43053fbfeda692e6e97e5e1fea829">FWL_CONTROL_ENABLE</a></div><div class="ttdeci">#define FWL_CONTROL_ENABLE</div><div class="ttdef"><b>Definition:</b> firewall/v0/firewall.h:111</div></div>
<div class="ttc" id="astructFirewall__RegionCfg_html"><div class="ttname"><a href="structFirewall__RegionCfg.html">Firewall_RegionCfg</a></div><div class="ttdoc">Firewall Region Cfg specifies the MMR configuration for the specified firewall ID.</div><div class="ttdef"><b>Definition:</b> firewall/v0/firewall.h:193</div></div>
<div class="ttc" id="astructFirewall__RegionCfg_html_a9df8c90e0e52b7371be4776a06bc9c3d"><div class="ttname"><a href="structFirewall__RegionCfg.html#a9df8c90e0e52b7371be4776a06bc9c3d">Firewall_RegionCfg::startAddr</a></div><div class="ttdeci">uint64_t startAddr</div><div class="ttdef"><b>Definition:</b> firewall/v0/firewall.h:201</div></div>
<div class="ttc" id="astructFirewall__Attrs_html_add68b7915c6703b4a83317c729690e61"><div class="ttname"><a href="structFirewall__Attrs.html#add68b7915c6703b4a83317c729690e61">Firewall_Attrs::firewallId</a></div><div class="ttdeci">uint32_t firewallId</div><div class="ttdef"><b>Definition:</b> firewall/v0/firewall.h:216</div></div>
<div class="ttc" id="agroup__DRV__FIREWALL__MODULE_html_ga9ce3ae4cc112f82877fc8e1a3c7f7d39"><div class="ttname"><a href="group__DRV__FIREWALL__MODULE.html#ga9ce3ae4cc112f82877fc8e1a3c7f7d39">Firewall_open</a></div><div class="ttdeci">int32_t Firewall_open(Firewall_Handle handle)</div><div class="ttdoc">This function opens a given Firewall peripheral.</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__SYSTEM_html_ga47e638d7c694e6d42e57b96b071b8a6f"><div class="ttname"><a href="group__KERNEL__DPL__SYSTEM.html#ga47e638d7c694e6d42e57b96b071b8a6f">SystemP_SUCCESS</a></div><div class="ttdeci">#define SystemP_SUCCESS</div><div class="ttdoc">Return status when the API execution was successful.</div><div class="ttdef"><b>Definition:</b> SystemP.h:56</div></div>
<div class="ttc" id="astructFirewall__Attrs_html_a6ee4d0f0a7c6b879462f1e75d7704f38"><div class="ttname"><a href="structFirewall__Attrs.html#a6ee4d0f0a7c6b879462f1e75d7704f38">Firewall_Attrs::regionInfo</a></div><div class="ttdeci">Firewall_RegionCfg * regionInfo</div><div class="ttdef"><b>Definition:</b> firewall/v0/firewall.h:222</div></div>
<div class="ttc" id="agroup__DRV__FIREWALL__MODULE_html_ga67ff1ba54b7f7a72ad254b357046540a"><div class="ttname"><a href="group__DRV__FIREWALL__MODULE.html#ga67ff1ba54b7f7a72ad254b357046540a">Firewall_configureRegion</a></div><div class="ttdeci">int32_t Firewall_configureRegion(Firewall_Handle handle, Firewall_Attrs *attrs)</div><div class="ttdoc">Intialize a firewall with multiple regions.</div></div>
<div class="ttc" id="agroup__DRV__FIREWALL__MODULE_html_ga33cc6604340fe6dd70035798bdf32587"><div class="ttname"><a href="group__DRV__FIREWALL__MODULE.html#ga33cc6604340fe6dd70035798bdf32587">PRIVID_EVERYONE</a></div><div class="ttdeci">#define PRIVID_EVERYONE</div><div class="ttdef"><b>Definition:</b> firewall/v0/firewall.h:83</div></div>
<div class="ttc" id="astructFirewall__Attrs_html_ab40da6aae4d422e8822f97148f0b970b"><div class="ttname"><a href="structFirewall__Attrs.html#ab40da6aae4d422e8822f97148f0b970b">Firewall_Attrs::initRegions</a></div><div class="ttdeci">uint32_t initRegions</div><div class="ttdef"><b>Definition:</b> firewall/v0/firewall.h:220</div></div>
<div class="ttc" id="agroup__DRV__FIREWALL__MODULE_html_ga28657bf5e5b01030fdc2dbec22d7b6fd"><div class="ttname"><a href="group__DRV__FIREWALL__MODULE.html#ga28657bf5e5b01030fdc2dbec22d7b6fd">Firewall_close</a></div><div class="ttdeci">void Firewall_close(Firewall_Handle handle)</div><div class="ttdoc">Function to close Firewall peripheral specified by firewall handle.</div></div>
<div class="ttc" id="astructFirewall__RegionCfg_html_a493c4f1374ee69e6a341997ce67a5e39"><div class="ttname"><a href="structFirewall__RegionCfg.html#a493c4f1374ee69e6a341997ce67a5e39">Firewall_RegionCfg::regionIndex</a></div><div class="ttdeci">uint16_t regionIndex</div><div class="ttdef"><b>Definition:</b> firewall/v0/firewall.h:195</div></div>
<div class="ttc" id="afirewall_8h_html"><div class="ttname"><a href="firewall_8h.html">firewall.h</a></div></div>
<div class="ttc" id="agroup__KERNEL__DPL__DEBUG_html_ga552e9055ca7eab5fe6c224c6cd5a9d4c"><div class="ttname"><a href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a></div><div class="ttdeci">#define DebugP_assert(expression)</div><div class="ttdoc">Function to call for assert check.</div><div class="ttdef"><b>Definition:</b> DebugP.h:159</div></div>
<div class="ttc" id="astructFirewall__RegionCfg_html_a243556d05f48fb819956c6976a42c347"><div class="ttname"><a href="structFirewall__RegionCfg.html#a243556d05f48fb819956c6976a42c347">Firewall_RegionCfg::permissions</a></div><div class="ttdeci">uint32_t permissions[FWL_MAX_PRIVID_SLOTS]</div><div class="ttdef"><b>Definition:</b> firewall/v0/firewall.h:199</div></div>
<div class="ttc" id="agroup__DRV__FIREWALL__MODULE_html_ga9a209b873acea2a734c11ede4e7aa288"><div class="ttname"><a href="group__DRV__FIREWALL__MODULE.html#ga9a209b873acea2a734c11ede4e7aa288">FWL_PERM_SEC_RW</a></div><div class="ttdeci">#define FWL_PERM_SEC_RW</div><div class="ttdef"><b>Definition:</b> firewall/v0/firewall.h:158</div></div>
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
